import{_ as t,p as o,q as s,t as n,R as e}from"./framework-5866ffd3.js";const c={},_=e("p",null,"这个项目采用 ssh 框架，使用spring的声明式代理拦截器事务管理hibernate的session关闭，这样平时是很正常的。",-1),l=e("p",null,"可我有一个方法会产生几百条的查询语句，public  function   a {for(1000)   b()；} private  function  b(){querydb();} // 这只是一条查询语句  。 一调用a方法   于是乎 就 “can not open connection”。从监视器能看到服务器打开了好几百个数据库连接。",-1),i=e("p",null,"我知道spring拦截器会拦截我的方法 并为其开一个事物 ，在配置文件里不配置这个方法，不拦截于是就不会有事物了，就不会再单独打开链接了，事物在这本来就是重复了，不应该在单独开启事物的。不知道spring有没有提供这个参数，去看文档了，先记下这么多，等解决了问题，再来详细整理。",-1),r=e("p",null," ",-1),a=e("p",null,"这个问题已经找到原因了， 这些没有释放的连接 是因为有语句执行了update 和inset，delete语句，先汗一个",-1),p=e("p",null," ",-1),u=e("p",null,"操作数据的 那些语句提取出来，集中进行 commit，这样就ok了",-1);function d(h,f){return o(),s("div",null,[_,n(),l,n(),i,n(),r,n(),a,n(),p,n(),u])}const b=t(c,[["render",d],["__file","2010-39.html.vue"]]);export{b as default};
