import{_ as e,p as l,q as a,t,a1 as p,R as o}from"./framework-5866ffd3.js";const r={},d=p('<p><span>基于SPRING的事件处理其实很简单，初学者不必一开始就担心搞不懂，本文先是介绍完全基于SPRING的事件监听实现(熟识Spring事件监听的朋友应该跳过第一节)，然后依葫芦画瓢自已做一个性能更好事件监听小框架，<span style="color:red;">最后在回贴中加入了注解版</span>。 <br>    为何要使用事件监听，而不是直接调用？打个比方，在系统删除一个用户时，需要把用户的其他信息和行为记录一起删除，此时最容易想到的是：删除用户时，调用其他Service类接口删除与之相关的信息和用户行为记录，但是用户是一个基础模块，随着系统模块不断增加，会有越来越多的模块与之关联，按以上方案，每增加一个与用户相关的模块，那么删除用户时就要把这个模块的信息也一起删除，这样用户这个模块就与这些业务模块偶合在一起了，只要系统不断的增加或减少模块，用户模块就永远都改不完。（以上逻辑仅为说明问题） <br>    如果采用事件监听，那么在删除一个用户时，发布一事件就完事了，所有相关的模块监听此事件，在事件处理中删除本模块对应的数据，那么用户模块也不会与这些模块有任何偶合了。 <br>    好，<span style="color:red;">回到主题</span>， <br>    <span style="color:red;">1、完全基于SPRING的事件监听与处理：</span> <br>    首先，SERVICE总接口类继承org.springframework.context.ApplicationListener接口，并且在SERVICE的抽象类中实现此接口的方法，SERVICE总接口代码： <br></span></p>',1),i=o("div",{class:"dp-highlighter",style:{"font-family":"Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace","font-size":"12px","background-color":"transparent",width:"766px","margin-left":"9px",padding:"1px"}},[o("div",{class:"bar"},[o("div",{class:"tools",style:{"text-align":"left",color:"black","font-weight":"bold",padding:"3px",margin:"0px"}},[t(" Java代码  "),o("object",{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",width:"14",height:"15"},[o("param",{name:"src"}),t(),o("embed",{type:"application/x-shockwave-flash",width:"14",height:"15",src:"http://www.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf"})])])]),t(),o("ol",{class:"dp-j",style:{"font-size":"1em","line-height":"1.4em","margin-top":"0px","margin-right":"0px","margin-bottom":"1px","margin-left":"0px","padding-top":"2px","padding-right":"0px","padding-bottom":"2px","padding-left":"0px","background-color":"#ffffff",color:"#2b91af",border:"1px solid #d1d7dc"}},[o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"import"),o("span",{style:{color:"black"}}," org.springframework.context.ApplicationListener;  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}},"/**"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}}," * 业务层顶层接口"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}}," */"),o("span",{style:{color:"black"}},"  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"public"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"interface"),o("span",{style:{color:"black"}}," IBaseService "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"extends"),o("span",{style:{color:"black"}}," ApplicationListener{  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"}  ")])])],-1),n=o("p",null,[o("br"),o("br"),t("SERVICE抽象类代码，所有具体业务类皆继承此抽象业务类")],-1),s=o("div",{class:"dp-highlighter",style:{"font-family":"Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace","font-size":"12px","background-color":"transparent",width:"766px","margin-left":"9px",padding:"1px"}},[o("div",{class:"bar"},[o("div",{class:"tools",style:{"text-align":"left",color:"black","font-weight":"bold",padding:"3px",margin:"0px"}},[t(" Java代码  "),o("object",{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",width:"14",height:"15"},[o("param",{name:"src"}),t(),o("embed",{type:"application/x-shockwave-flash",width:"14",height:"15",src:"http://www.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf"})])])]),t(),o("ol",{class:"dp-j",style:{"font-size":"1em","line-height":"1.4em","margin-top":"0px","margin-right":"0px","margin-bottom":"1px","margin-left":"0px","padding-top":"2px","padding-right":"0px","padding-bottom":"2px","padding-left":"0px","background-color":"#ffffff",color:"#2b91af",border:"1px solid #d1d7dc"}},[o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"import"),o("span",{style:{color:"black"}}," org.springframework.context.ApplicationEvent;  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}},"/**"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}}," * 实现顶层接口的抽象类"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}}," */"),o("span",{style:{color:"black"}},"  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"public"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"abstract"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"class"),o("span",{style:{color:"black"}}," AbstractBaseService "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"implements"),o("span",{style:{color:"black"}}," IBaseService {  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"comment",style:{color:"#008200"}},"/**"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}},"     * 此方法不允许重写，要监听事件，重写onBaseEvent方法"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}},"     */"),o("span",{style:{color:"black"}},"  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"public"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"final"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"void"),o("span",{style:{color:"black"}}," onApplicationEvent(ApplicationEvent event) {  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("        "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"if"),o("span",{style:{color:"black"}}," (event "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"instanceof"),o("span",{style:{color:"black"}}," BaseEvent) {  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"            onBaseEvent((BaseEvent) event);  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"        }  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"    }  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"comment",style:{color:"#008200"}},"/**"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}},"     * 要监听事件就重写此方法"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}},"     */"),o("span",{style:{color:"black"}},"  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"protected"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"void"),o("span",{style:{color:"black"}}," onBaseEvent(BaseEvent event) {  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"    }  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("         "),o("span",{class:"comment",style:{color:"#008200"}},"/**"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}},"     * 发布事件"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}},"     */"),o("span",{style:{color:"black"}},"  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"protected"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"final"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"void"),o("span",{style:{color:"black"}}," publishEvent(BaseEvent event) {  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("        "),o("span",{class:"comment",style:{color:"#008200"}},"//取得SPRING容器并发布事件"),o("span",{style:{color:"black"}},"  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"        org.springframework.web.context.ContextLoader.getCurrentWebApplicationContext().publishEvent(event);  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"    }  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"}  ")])])],-1),g=o("p",null,[o("br"),t("BaseEvent类是我自定义的一个类，各业务模块要发布事件，首先定义自已的EVENT类，继承BaseEvent。BaseEvent类代码")],-1),c=o("div",{class:"dp-highlighter",style:{"font-family":"Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace","font-size":"12px","background-color":"transparent",width:"766px","margin-left":"9px",padding:"1px"}},[o("div",{class:"bar"},[o("div",{class:"tools",style:{"text-align":"left",color:"black","font-weight":"bold",padding:"3px",margin:"0px"}},[t(" Java代码  "),o("object",{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",width:"14",height:"15"},[o("param",{name:"src"}),t(),o("embed",{type:"application/x-shockwave-flash",width:"14",height:"15",src:"http://www.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf"})])])]),t(),o("ol",{class:"dp-j",style:{"font-size":"1em","line-height":"1.4em","margin-top":"0px","margin-right":"0px","margin-bottom":"1px","margin-left":"0px","padding-top":"2px","padding-right":"0px","padding-bottom":"2px","padding-left":"0px","background-color":"#ffffff",color:"#2b91af",border:"1px solid #d1d7dc"}},[o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"import"),o("span",{style:{color:"black"}}," org.springframework.context.ApplicationEvent;  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"public"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"class"),o("span",{style:{color:"black"}}," BaseEvent "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"extends"),o("span",{style:{color:"black"}}," ApplicationEvent {  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"public"),o("span",{style:{color:"black"}}," BaseEvent(Object source) {  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("        "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"super"),o("span",{style:{color:"black"}},"(source);  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"    }  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"}  ")])])],-1),f=o("p",null,[o("br"),o("br"),t("用户业务类UserSerivceImpl删除一个用户时，需要发布事件，所以要先定义一个UserDeleteEvent事件类")],-1),x=o("div",{class:"dp-highlighter",style:{"font-family":"Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace","font-size":"12px","background-color":"transparent",width:"766px","margin-left":"9px",padding:"1px"}},[o("div",{class:"bar"},[o("div",{class:"tools",style:{"text-align":"left",color:"black","font-weight":"bold",padding:"3px",margin:"0px"}},[t(" Java代码  "),o("object",{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",width:"14",height:"15"},[o("param",{name:"src"}),t(),o("embed",{type:"application/x-shockwave-flash",width:"14",height:"15",src:"http://www.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf"})])])]),t(),o("ol",{class:"dp-j",style:{"font-size":"1em","line-height":"1.4em","margin-top":"0px","margin-right":"0px","margin-bottom":"1px","margin-left":"0px","padding-top":"2px","padding-right":"0px","padding-bottom":"2px","padding-left":"0px","background-color":"#ffffff",color:"#2b91af",border:"1px solid #d1d7dc"}},[o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"import"),o("span",{style:{color:"black"}}," com.esc.permission.model.User;  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"public"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"class"),o("span",{style:{color:"black"}}," UserDeleteEvent "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"extends"),o("span",{style:{color:"black"}}," BaseEvent {  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"      ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"public"),o("span",{style:{color:"black"}}," UserDeleteEvent(User user){  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("        "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"super"),o("span",{style:{color:"black"}},"(user);  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"    }  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"      ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"public"),o("span",{style:{color:"black"}}," User getUser(){  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("        "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"return"),o("span",{style:{color:"black"}}," (User) "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"super"),o("span",{style:{color:"black"}},".getSource();  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"    }  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"}  ")])])],-1),b=o("p",null,[o("br"),t("下面是UserSerivceImpl类删除用户的方法模拟")],-1),m=o("div",{class:"dp-highlighter",style:{"font-family":"Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace","font-size":"12px","background-color":"transparent",width:"766px","margin-left":"9px",padding:"1px"}},[o("div",{class:"bar"},[o("div",{class:"tools",style:{"text-align":"left",color:"black","font-weight":"bold",padding:"3px",margin:"0px"}},[t(" Java代码  "),o("object",{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",width:"14",height:"15"},[o("param",{name:"src"}),t(),o("embed",{type:"application/x-shockwave-flash",width:"14",height:"15",src:"http://www.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf"})])])]),t(),o("ol",{class:"dp-j",style:{"font-size":"1em","line-height":"1.4em","margin-top":"0px","margin-right":"0px","margin-bottom":"1px","margin-left":"0px","padding-top":"2px","padding-right":"0px","padding-bottom":"2px","padding-left":"0px","background-color":"#ffffff",color:"#2b91af",border:"1px solid #d1d7dc"}},[o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"public"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"void"),o("span",{style:{color:"black"}}," deleteUser(String id){  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"comment",style:{color:"#008200"}},"//先发布删除事件"),o("span",{style:{color:"black"}},"  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    publishEvent("),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"new"),o("span",{style:{color:"black"}}," UserDeleteEvent("),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"new"),o("span",{style:{color:"black"}}," User(id)));  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"comment",style:{color:"#008200"}},"//再把用户删除"),o("span",{style:{color:"black"}},"  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"    userDao.deleteUser(id);  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"}  ")])])],-1),h=o("p",null,[o("br"),t("假如有一个OtherServiceImpl业务类需要接收用户删除事件并做一些处理，")],-1),y=o("div",{class:"dp-highlighter",style:{"font-family":"Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace","font-size":"12px","background-color":"transparent",width:"766px","margin-left":"9px",padding:"1px"}},[o("div",{class:"bar"},[o("div",{class:"tools",style:{"text-align":"left",color:"black","font-weight":"bold",padding:"3px",margin:"0px"}},[t(" Java代码  "),o("object",{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0",width:"14",height:"15"},[o("param",{name:"src"}),t(),o("embed",{type:"application/x-shockwave-flash",width:"14",height:"15",src:"http://www.iteye.com/javascripts/syntaxhighlighter/clipboard_new.swf"})])])]),t(),o("ol",{class:"dp-j",style:{"font-size":"1em","line-height":"1.4em","margin-top":"0px","margin-right":"0px","margin-bottom":"1px","margin-left":"0px","padding-top":"2px","padding-right":"0px","padding-bottom":"2px","padding-left":"0px","background-color":"#ffffff",color:"#2b91af",border:"1px solid #d1d7dc"}},[o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"public"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"class"),o("span",{style:{color:"black"}}," OtherServiceImpl "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"extends"),o("span",{style:{color:"black"}}," AbstractBaseService {  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"private"),o("span",{style:{color:"black"}}," IBaseDAO otherDao;  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"comment",style:{color:"#008200"}},"/**"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}},"     * 重写父类的方法，处理用户删除事件"),t(" ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[o("span",{class:"comment",style:{color:"#008200"}},"     */"),o("span",{style:{color:"black"}},"  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("    "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"protected"),o("span",{style:{color:"black"}}," "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"void"),o("span",{style:{color:"black"}}," onBaseEvent(BaseEvent baseEvent){  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},[t("        "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"if"),o("span",{style:{color:"black"}},"(baseEvent "),o("span",{class:"keyword",style:{color:"#7f0055","font-weight":"bold"}},"instanceof"),o("span",{style:{color:"black"}}," UserDeleteEvent){"),o("span",{class:"comment",style:{color:"#008200"}},"//如果是用户删除事件"),o("span",{style:{color:"black"}},"  ")])]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"            otherDao.deleteOtherData(((User)baseEvent.getSource()).getId());  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"        }  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"    }  ")]),t(),o("li",{style:{"font-size":"1em","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"38px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"10px","border-left-width":"1px","border-left-style":"solid","border-left-color":"#d1d7dc","background-color":"#fafafa","line-height":"18px"}},[o("span",{style:{color:"black"}},"}  ")])])],-1),k=o("p",null,[o("br"),t("    到此，所有逻辑就完了，用户业务类中根本不需要知道谁将会处理此事件，所以完全与其它模块解偶了。 "),o("br"),t("    这里用了一个偷懒的方法，那就是在业务类的顶层接口IBaseService中实现了ApplicationListener接口，这样其实所有具体业务类都参与了所有事件的处理，即使是那些根本不需要监听事件的业务类。对于所有根本不需要监听事件的业务类，事件发生时就调用其父类空方法onBaseEvent，这里有一点性能浪费，如果改进？不要在顶层接口IBaseService中实现ApplicationListener接口，而是在具体的需要监听事件的业务类中实现此接口，但是这样还是有一点缺陷，那就是此具体业务类还是会监听到它不关心的事件，不论是用户删除事件还是用户修改事件，没办法，有得必有失，想要方便，肯定会有所牺牲。 "),o("br")],-1);function w(u,v){return l(),a("div",null,[d,t(),i,t(),n,t(),s,t(),g,t(),c,t(),f,t(),x,t(),b,t(),m,t(),h,t(),y,t(),k])}const _=e(r,[["render",w],["__file","2011-82.html.vue"]]);export{_ as default};
