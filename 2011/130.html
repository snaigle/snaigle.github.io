<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>groovy 高效编程，</title>
  
    <meta name="author" content="王成">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/twitter/stylesheets/bootstrap.min.css" type="text/css" rel="stylesheet" media="all">
<link href="/assets/twitter/stylesheets/style.css" type="text/css" rel="stylesheet" media="all">
<script src="/assets/twitter/javascripts/qrcode.js"></script>
<link href="/assets/twitter/widgets/google_prettify/stylesheets/twitter-bootstrap.css" type="text/css" rel="stylesheet" media="all">
 

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">知行道馆</a>
          <ul class="nav">
            
              


  <li><a href="/archive">归档</a></li>


            
              


  <li><a href="/tags">标签</a></li>


            
              


  <li><a href="/categories">分类</a></li>


            
              


  <li><a href="/pages">分页</a></li>


            
              


  <li><a href="/about">关于我</a></li>


            
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        <div class="page-header">
  <h1>groovy 高效编程， </h1>
</div>

<div class="row">
  <div class="span8">
    <p>这是 groovy下的一些小方法，非常实用 ，从java转行过来的 一定要看啊</p> <p><span style="color: #990000;"><strong>each</strong>&nbsp;</span><br />遍历list</p> <p><span style="font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; color: #4b4b4b; line-height: 19px;">   <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">b</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">c</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.each&nbsp;{&nbsp;elem&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;"><br />&nbsp;&nbsp;println&nbsp;elem<br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">a<br />b<br />c<br /></span>  </div> <br />遍历map<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;map&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[name:</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">山风小子</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">,&nbsp;address:</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">Shanghai</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">]<br />map.each&nbsp;{&nbsp;key,&nbsp;value&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;"><br />&nbsp;&nbsp;println&nbsp;</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">$key&nbsp;:&nbsp;$value</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;"><br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">name&nbsp;:&nbsp;山风小子<br />address&nbsp;:&nbsp;Shanghai<br /></span>  </div> <br /><span style="color: #990000;"><strong>eachWithIndex</strong></span><br />带index的each<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">b</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">c</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.eachWithIndex&nbsp;{&nbsp;elem,&nbsp;i&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;"><br />&nbsp;&nbsp;println&nbsp;</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">$i&nbsp;:&nbsp;$elem</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;"><br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">0&nbsp;:&nbsp;a<br />1&nbsp;:&nbsp;b<br />2&nbsp;:&nbsp;c<br /></span>  </div> <br /><span style="color: #990000;"><strong>any</strong></span><br />只要存在一个满足条件（此例中的条件为elem.length() &lt; 3）的element就返回true，否则返回false<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">ab</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">abc</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.any&nbsp;{&nbsp;elem&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;">&nbsp;<br />&nbsp;&nbsp;elem.length()&nbsp;</span>   <span style="color: #000000;">&lt;</span>   <span style="color: #000000;">&nbsp;</span>   <span style="color: #000000;">3</span>   <span style="color: #000000;"><br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">true</span>  </div> <br /><span style="color: #990000;"><strong>every</strong></span><br />所有的element都满足条件才返回true，否则返回false<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">ab</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">abc</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.every&nbsp;{&nbsp;elem&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;">&nbsp;<br />&nbsp;&nbsp;elem.length()&nbsp;</span>   <span style="color: #000000;">&lt;</span>   <span style="color: #000000;">&nbsp;</span>   <span style="color: #000000;">3</span>   <span style="color: #000000;"><br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">false</span>  </div> <br /><span style="color: #990000;"><strong>grep</strong></span><br />符合条件的element会被提取出来，形成一个list<br />条件以closure的形式传入<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">ab</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">abc</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.grep&nbsp;{&nbsp;elem&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;"><br />&nbsp;&nbsp;elem.length()&nbsp;</span>   <span style="color: #000000;">&lt;</span>   <span style="color: #000000;">&nbsp;</span>   <span style="color: #000000;">3</span>   <span style="color: #000000;"><br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">[&quot;a&quot;,&nbsp;&quot;ab&quot;]</span>  </div> <br />条件以regex的形式传入，符合regex的element被提取出来形成一个list<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">ab</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">abc</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.grep(</span>   <span style="color: #000000;">~/</span>   <span style="color: #000000;">..</span>   <span style="color: #000000;">/</span>   <span style="color: #000000;">)</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">[&quot;ab&quot;]</span>  </div> <br />条件以collection的形式传入，在collection中的element被提取出来形成一个list，可以看作求两个collection的交集<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">ab</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">abc</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.grep([</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">cde</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">ab</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">])</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">[&quot;a&quot;,&nbsp;&quot;ab&quot;]</span>  </div> <br /><span style="color: #990000;"><strong>join</strong></span><br />用指定的字符连接collection中的element<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">2007</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">8</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">26</span>   <span style="color: #000000;">]<br />list.join(</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">-</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">)</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">2007-8-26<br /></span>  </div> <br /><span style="color: #990000;"><strong>sort</strong></span><br />根据指定条件进行排序<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">2007</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">8</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">26</span>   <span style="color: #000000;">]<br />list.sort&nbsp;{&nbsp;e1,&nbsp;e2&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;"><br />&nbsp;&nbsp;</span>   <span style="color: #0000ff;">return</span>   <span style="color: #000000;">&nbsp;e1&nbsp;</span>   <span style="color: #000000;">-</span>   <span style="color: #000000;">&nbsp;e2<br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">[8,&nbsp;26,&nbsp;2007]</span>  </div> <br /><span style="color: #990000;"><strong>find</strong></span><br />查找collection中满足条件的‘第一个’element<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">2007</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">8</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">26</span>   <span style="color: #000000;">]<br />list.find&nbsp;{&nbsp;elem&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;"><br />&nbsp;&nbsp;elem&nbsp;</span>   <span style="color: #000000;">&lt;</span>   <span style="color: #000000;">30</span>   <span style="color: #000000;"><br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">8</span>  </div> <br /><span style="color: #990000;"><strong>findAll</strong></span><br />查找collection中满足条件的‘所有’element<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">2007</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">8</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">26</span>   <span style="color: #000000;">]<br />list.findAll&nbsp;{&nbsp;elem&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;"><br />&nbsp;&nbsp;elem&nbsp;</span>   <span style="color: #000000;">&lt;</span>   <span style="color: #000000;">&nbsp;</span>   <span style="color: #000000;">30</span>   <span style="color: #000000;"><br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">[8,&nbsp;26]</span>  </div> <br /><span style="color: #990000;"><strong>collect</strong></span><br />对collection的element进行处理，并将处理结果放到一个新的collection中<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">b</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">c</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.collect&nbsp;{&nbsp;elem&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;"><br />&nbsp;&nbsp;elem&nbsp;</span>   <span style="color: #000000;">*</span>   <span style="color: #000000;">&nbsp;</span>   <span style="color: #000000;">2</span>   <span style="color: #000000;"><br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">[&quot;aa&quot;,&nbsp;&quot;bb&quot;,&nbsp;&quot;cc&quot;]</span>  </div> <br />对map进行处理<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;map&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[name:</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">山风小子</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;address:</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">Shanghai</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />map.collect&nbsp;{&nbsp;entry&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;"><br />&nbsp;&nbsp;</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">${entry.key}&nbsp;:&nbsp;${entry.value}</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;"><br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">[name&nbsp;:&nbsp;山风小子,&nbsp;address&nbsp;:&nbsp;Shanghai]</span>  </div> <br /><br /><span style="color: #990000;"><strong>groupBy</strong></span><br />对collection中的element按给定条件进行分组<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">b</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">abc</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">ab</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">c</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">bc</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.groupBy&nbsp;{&nbsp;elem&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;"><br />&nbsp;&nbsp;&nbsp;&nbsp;elem.length()<br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">[1:[&quot;a&quot;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;],&nbsp;2:[&quot;ab&quot;,&nbsp;&quot;bc&quot;],&nbsp;3:[&quot;abc&quot;]]</span>  </div> <br /><br /><span style="color: #990000;"><strong>inject</strong></span><br />一个累积的过程，传入inject方法的'I'作为sum的初始值，在遍历collection的过程中，将处理结果(<span style="color: #000000;">&quot;</span><span style="color: #000000;">$sum&nbsp;$elem&nbsp;</span><span style="color: #000000;">&quot;</span>)保存到sum中<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">love</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">you</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">]<br />list.inject(</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">I</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">)&nbsp;{&nbsp;sum,&nbsp;elem&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;">&nbsp;<br />&nbsp;&nbsp;</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">$sum&nbsp;$elem&nbsp;</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;"><br />}</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">I&nbsp;love&nbsp;&nbsp;you&nbsp;</span>  </div> <br /><span style="color: #990000;"><strong>reverse</strong></span><br />将collection中各element的次序颠倒一下<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">b</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">c</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.reverse()</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">[&quot;c&quot;,&nbsp;&quot;b&quot;,&nbsp;&quot;a&quot;]</span>  </div> <br />颠倒字符串<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">abc</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;"><br />list.reverse()</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">cba<br /></span>  </div> <br /><span style="color: #990000;"><strong>tokenize<br /></strong></span>指定分隔符，取得token集<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">'</span>   <span style="color: #000000;">a1/b2/c3/d4</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">.tokenize(</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">/</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">)</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">[&quot;a1&quot;,&nbsp;&quot;b2&quot;,&nbsp;&quot;c3&quot;,&nbsp;&quot;d4&quot;]</span>  </div> <br /><span style="color: #990000;"><strong>unique</strong></span><br />去除collection中重复的element<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">b</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">b</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">c</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.unique()</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">[&quot;a&quot;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;]</span>  </div> <br /><br /><span style="color: #990000;"><strong>max</strong></span><br />求最大值<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">1</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">2</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">3</span>   <span style="color: #000000;">]<br />list.max()</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">3</span>  </div> <br />按指定的比较内容（此例的比较内容为长度length），在collection中选出最大的element<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">ab</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">abc</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.max&nbsp;{&nbsp;elem&nbsp;</span>   <span style="color: #000000;">-&gt;</span>   <span style="color: #000000;"><br />&nbsp;&nbsp;elem.length()<br />}</span>   </div> <br /><span style="color: #990000;"><strong>min</strong>与max类似，求最小值，再次就不演示用法了，用法与max相同，将上述代码中的max改为min即可</span><br /><br /><span style="color: #990000;"><strong>count</strong></span><br />计数<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">ab</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.count(</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">)</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">2</span>  </div> <br />对字符串&quot;aaba&quot;中的a进行计数<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;">aaba</span>   <span style="color: #000000;">&quot;</span>   <span style="color: #000000;"><br />list.count(</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">)</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">3</span>  </div> <br /><span style="color: #990000;"><strong>sum</strong></span><br />求和<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">1</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">2</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">3</span>   <span style="color: #000000;">]<br />list.sum()</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">6</span>  </div> <br />求字符串的‘和’，其实就是连接字符串<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">    <span style="color: #000000;">def&nbsp;list&nbsp;</span>   <span style="color: #000000;">=</span>   <span style="color: #000000;">&nbsp;[</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">a</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">b</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">,&nbsp;</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">c</span>   <span style="color: #000000;">'</span>   <span style="color: #000000;">]<br />list.sum()</span>   </div> 运行结果：<br />  <div style="padding-top: 4px; padding-right: 5px; padding-bottom: 4px; padding-left: 4px; background-color: #eeeeee; font-size: 13px; width: 1315px; border: 1px solid #cccccc;">   <span style="color: #000000;">abc<br /></span>  </div> <br />最后，我想提醒各位一点：有时您可以将string看作list，对string使用适用于list的‘匕首方法’。</span></p>

    <hr>
    <div class="pagination">
      <ul>
        <ul>
          
            <li class="prev"><a href="/2011/131.html" title="html2pdf 实现思路和代码">&larr; Previous</a></li>
          
          

            <li><a href="/archive">Archive</a></li>

          
            <li class="next"><a href="/2011/129.html" title="git github 介绍">Next &rarr;</a></li>
          
          
        </ul>
      </ul>
    </div>
    <hr>
     
  </div>
  
  <div class="span4">
    <h4>Published</h4>
    <div class="date"><span>2011-04-15</span></div>
    <br>
    <h4>Share to Weixin</h4>
    <div id="share-qrcode"></div>
    <script type="text/javascript">
      new QRCode(document.getElementById("share-qrcode"), {
        text:document.URL,
        width:128,
        height:128
      });
    </script>
    <br>
    <h4>Categories</h4>
    <ul class="tag_box">
    
      <li>
  <a href="/categories/#default-ref">default <span>108</span></a>
</li>
    
    </ul>
    <br>
    <h4>Tags</h4>
    <ul class="tag_box">
    
    </ul>
  </div>
</div>

      </div>

      <footer>
        <p>&copy; 王成 2016
          with help from <a href="http://github.com/wendal/gor" target="_blank" title="Gor -- Fast Blog">Gor</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
		  and Idea from <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
        </p>
      </footer>

    </div> <!-- /container -->

    
<script src="//cdnjscn.b0.upaiyun.com/libs/prettify/r298/prettify.min.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint linenums";
  }
  prettyPrint();
</script>

  </body>
</html>
