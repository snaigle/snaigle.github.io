---
date: 2011-01-12
title: 用eclipse管理maven jetty插件
---


<p><span style="color: #555b6e; font-family: Arial; line-height: 18px;"> </span></p> <div class="tit" style="font-family: Arial; font-size: 14px; line-height: 26px; font-weight: bold; text-align: left; border-left-width: 5px; border-left-style: solid; border-left-color: #8b97a1; text-indent: 8px;"> maven jetty eclipse run stop debug 调试java web项目</div> <div class="date" style="font-family: Verdana; font-size: 10px; line-height: 18px; margin-top: 0px; margin-right: 0px; margin-bottom: 8px; margin-left: 12px; color: #888888; text-align: left;"> 2010-04-12 15:41</div> <table style="width: 900px;" border="0"> <tbody>  <tr>    <td style="font-family: Arial; font-size: 12px; line-height: 18px;">     <div id="blog_text" class="cnt" style="font-family: Arial; font-size: 12px; line-height: 18px;">      <p style="line-height: normal;">Maven 摆在眼前最明显的优点就是对peoject的jar包的的管理。当然Maven的优点远远不止这些。</p>      <p style="line-height: normal;">在Eclipse下，可以使用m2eclipse加快对Maven project的开发。</p>      <p style="line-height: normal;">这几天对Maven的web项目进行调试的时候，发现对已经运行的web项目无法关闭，只能在在任务管理器中</p>      <p style="line-height: normal;">结束进程。这就郁闷了，网上找了找，也顺便总结了一下。</p>      <p style="line-height: normal;">Start》》》》》》》》》》》》》》》》》》》》</p>      <p style="line-height: normal;">步骤1。如何启动web项目，进行调试：</p>      <p style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp; 1.1我采用的是jetty容器。首先要在pom.xml中配置plugin</p>      <p style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- jetty插件 --&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;plugin&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/plugin&gt;</p>      <p style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.2下面配置一个外部工具来运行jetty。</p>      <p style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span><span style="line-height: 21px; font-size: 14px; text-align: left;">选择菜单Run-&gt;External Tools-&gt;External Tools Configurations</span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-----------------》</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 图1</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;">左边选择Program，再点右键New：</span></span></span></span></span><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span></span></span></span></span><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;">配置Location为mvn命令行路径。<br style="line-height: normal;" /><br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 选择Working Directory为当前需要运行的项目。<br style="line-height: normal;" /><br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Arguments填写：jetty:run 如图2</span></span></span></span></span></span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;"><span style="line-height: normal;"><br style="line-height: normal;" /></span></span></span></span><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 图2</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 进过如此操作之后，点击run，或者点图3</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 图3<br style="line-height: normal;" /></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 便可运行该项目。</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 但此时也仅仅是运行项目，还没达到debug的要求。</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp; 2.对web项目进行debug调试，</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.1在点击图2中的Environment选择项，新增一个，Environment varibles。</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span><span style="line-height: 21px; font-size: 14px; text-align: left;">加入MAVEN_OPTS变量，值为</span></span></span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4000,server=y,suspend=n</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.2下面进行debug运行配置，点击Debug-&gt;Debug Configuration</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在配置中选择相应的project，端口要设置为与MAVEN_OPTS变量中的address=4000相同。</span></span></span></span></p>      <p style="line-height: normal;">&nbsp;</p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;"><span style="line-height: normal;"><span style="line-height: normal;"><br style="line-height: normal;" /></span><br style="line-height: normal;" /></span></span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 配置完成之后，就可以设置断点进行debug调试了。</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp; 首先按照步骤1</span></span></span><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">启动web项目，然后运行刚刚新建的Remote Java Application.</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp; 如下图：</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;</span></span></span><span style="font-size: 14px;">&nbsp;3.最后是jetty的shutdown。</span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1首先在pom.xml中<br style="line-height: normal;" /><span style="line-height: normal; font-family: Arial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- jetty插件 --&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;plugin&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/plugin&gt;</span></span></span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;"><span style="line-height: normal;"><span style="line-height: normal; font-family: Arial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 修改为-------------------&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></span></span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;"><span style="line-height: normal;"><span style="line-height: normal; font-family: Arial;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- jetty插件 --&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;plugin&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;configuration&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;stopPort&gt;9966&lt;/stopPort&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;stopKey&gt;foo&lt;/stopKey&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/configuration&gt;<br style="line-height: normal;" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/plugin&gt;</span></span></span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 先如图1，新建</span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br style="line-height: normal;" /></span></span></span></p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 然后运行该新建的program就可以了将运行的jetty项目shutdowm了</span></span></span></p>      <p style="line-height: normal;">&nbsp;</p>      <p style="line-height: normal;"><span><span style="line-height: 21px; font-size: 14px; text-align: left;"><span style="line-height: normal;">END 《《《《《《《《《《《《《《《《《《《《《《《《《《《《</span></span></span></p>     </div> </td>   </tr> </tbody></table> <p>&nbsp;</p>