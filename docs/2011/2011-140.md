---
date: 2011-05-31 15:03:24
title: Node.js简单介绍并实现一个简单的Web MVC框架
---


<a href="http://cnodejs.org/blog/?p=342">Node.js简单介绍并实现一个简单的Web MVC框架</a>.

<span style="font-family: Georgia, Times, 'Times New Roman', serif; line-height: 25px;">
<h3 style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 13px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 21px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: #dfdfdf; text-decoration: none; font-style: normal; font-weight: bold; font-family: Arial, Verdana, sans-serif; color: #444444; border-left-width: 5px; line-height: 21px; background-position: initial initial; background-repeat: initial initial;">Node.js是什么</h3>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">Node让你可以用javascript编写服务器端程序，让javascript脱离web浏览器的限制，像C#、JAVA、Python等语言一样在服务器端运行，这也让一些熟悉Javascript的前端开发人员进军到服务器端开发提供了一个便利的途径。 Node是基于Google的V8引擎封装的，并提供了一些编写服务器程序的常用接口，例如文件流的处理。Node的目的是提供一种简单的途径来编写高性能的网络程序。
(注：1、本文基于Node.js V0.3.6； 2、本文假设你了解JavaScript； 3、本文假设你了解MVC框架；4、本文示例源代码：<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://files.cnblogs.com/QLeelulu/learnNode.zip">learnNode.zip</a>)</p>

<h3 style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 13px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 21px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: #dfdfdf; text-decoration: none; font-style: normal; font-weight: bold; font-family: Arial, Verdana, sans-serif; color: #444444; border-left-width: 5px; line-height: 21px; background-position: initial initial; background-repeat: initial initial;">Node.js的性能</h3>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">hello world 测试：
<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280205575971.jpg"><img style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; height: auto; max-width: 590px; background-position: initial initial; background-repeat: initial initial; padding: 4px; margin: 0px; border: 1px solid #dddddd;" src="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280205599517.jpg" border="0" alt="clip_image002" width="531" height="407" /></a></p>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">300并发请求，返回不同大小的内容：
<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206002713.jpg"><img style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; height: auto; max-width: 590px; background-position: initial initial; background-repeat: initial initial; padding: 4px; margin: 0px; border: 1px solid #dddddd;" src="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206022322.jpg" border="0" alt="clip_image004" width="519" height="414" /></a>
为什么node有如此高的性能？看node的特性。</p>

<h3 style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 13px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 21px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: #dfdfdf; text-decoration: none; font-style: normal; font-weight: bold; font-family: Arial, Verdana, sans-serif; color: #444444; border-left-width: 5px; line-height: 21px; background-position: initial initial; background-repeat: initial initial;">Node.js的特性</h3>
<blockquote style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; padding-top: 25px; padding-right: 25px; padding-bottom: 0px; padding-left: 25px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 15px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: initial; text-decoration: none; font-style: normal; quotes: none; overflow-x: hidden; overflow-y: hidden; color: #666666; border-left-width: 5px; border-left-color: #dddddd; background-position: initial initial; background-repeat: initial initial;">
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 15px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;"><strong style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 15px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">1. 单线程</strong>
<strong style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 15px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">2. 非阻塞IO</strong>
<strong style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 15px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">3. Google V8</strong>
<strong style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 15px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">4. 事件驱动</strong></p>
</blockquote>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">更详细的了解node请看淘宝UED博客上的关于node.js的一个幻灯片：<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://www.slideshare.net/lijing00333/node-js">http://www.slideshare.net/lijing00333/node-js</a></p>

<h3 style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 13px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 21px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: #dfdfdf; text-decoration: none; font-style: normal; font-weight: bold; font-family: Arial, Verdana, sans-serif; color: #444444; border-left-width: 5px; line-height: 21px; background-position: initial initial; background-repeat: initial initial;">你好，世界</h3>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">这，当然是俗套的Hello World啦（hello_world.js）：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> http <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'http'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
http.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">createServer</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    res.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">writeHead</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #cc0000; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">200</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'Content-Type'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'text/plain'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    res.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">end</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'Hello World<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000099; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">\n</span>'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">listen</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #cc0000; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">8124</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"127.0.0.1"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
console.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">log</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'Server running at http://127.0.0.1:8124/'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">require类似于C#的using、Python的import，用于导入模块（module）。node使用的是CommonJS的模块系统。http.createServer 的参数为一个函数，每当有新的请求进来的时候，就会触发这个函数。最后就是绑定要监听的端口。</p>

<h2 style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 14px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 23px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: #dddddd; text-decoration: none; font-style: normal; font-weight: bold; font-family: Arial, Verdana, sans-serif; color: #444444; border-left-width: 5px; line-height: 23px; background-position: initial initial; background-repeat: initial initial;">怎么运行？</h2>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">当然，是先安装node.js啦。到<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://nodejs.org/">http://nodejs.org/</a>下载并编译，支持Linux、Mac，也支持windows下的Cygwin。具体的安装说明见：<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://howtonode.org/how-to-install-nodejs">http://howtonode.org/how-to-install-nodejs</a> 装好node后，就可以运行我们的hello world了：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;">$ node hello_world.js
Server running at http://127.0.0.1:<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">8124</span>/</pre>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;"><a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206035486.jpg"><img style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; height: auto; max-width: 590px; background-position: initial initial; background-repeat: initial initial; padding: 4px; margin: 0px; border: 1px solid #dddddd;" src="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206042586.jpg" border="0" alt="clip_image006" width="265" height="89" /></a></p>

<h3 style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 13px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 21px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: #dfdfdf; text-decoration: none; font-style: normal; font-weight: bold; font-family: Arial, Verdana, sans-serif; color: #444444; border-left-width: 5px; line-height: 21px; background-position: initial initial; background-repeat: initial initial;">编程习惯的改变？</h3>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">我们来写一个读取文件内容的脚本：</p>

<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//output_me.js</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> fs <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'fs'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> fileContent <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'nothing'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
fs.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">readFile</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>__filename<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"utf-8"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>err<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> file<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>err<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        console.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">log</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>err<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">return</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
    fileContent <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> file<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    console.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">log</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'end readfile <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000099; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">\n</span>'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
console.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">log</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'doSomethingWithFile: '</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span> fileContent <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000099; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">\n</span>'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">这个脚本读取当前文件的内容并输出。__filename是node的一个全局变量，值为当前文件的绝对路径。我们执行这个脚本看一下：
<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206057636.jpg"><img style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; height: auto; max-width: 590px; background-position: initial initial; background-repeat: initial initial; padding: 4px; margin: 0px; border: 1px solid #dddddd;" src="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206056830.jpg" border="0" alt="clip_image008" width="254" height="98" /></a></p>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">有没发现结果不对呢？打印的fileContent并不是读取到的文件内容，而是初始化的时候赋值的nothing，并且‘end readfile’最后才打印出来。前面我们提到node的一个特性就是非阻塞IO，而readFile就是异步非阻塞读取文件内容的，所以后面的代码并不会等到文件内容读取完了再执行。请谨记node的异步非阻塞IO特性。所以我们需要将上面的代码修改为如下就能正常工作了：</p>

<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//output_me.js</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> fs <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'fs'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> fileContent <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'nothing'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
fs.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">readFile</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>__filename<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"utf-8"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>err<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> file<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>err<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        console.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">log</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>err<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">return</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
    fileContent <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> file<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//对于file的处理放到回调函数这里处理</span>
    console.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">log</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'doSomethingWithFile: '</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span> fileContent <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000099; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">\n</span>'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
console.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">log</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'我们先去喝杯茶<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000099; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">\n</span>'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
<h3 style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 13px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 21px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: #dfdfdf; text-decoration: none; font-style: normal; font-weight: bold; font-family: Arial, Verdana, sans-serif; color: #444444; border-left-width: 5px; line-height: 21px; background-position: initial initial; background-repeat: initial initial;"><strong style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 21px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">写个Web MVC框架试试</strong></h3>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">下面我们用node来写一个小玩具：一个Web MVC框架。这个小玩具我称它为n2Mvc，它的代码结构看起来大概如下：
<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206066372.jpg"><img style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; height: auto; max-width: 590px; background-position: initial initial; background-repeat: initial initial; padding: 4px; margin: 0px; border: 1px solid #dddddd;" src="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206072883.jpg" border="0" alt="clip_image010" width="171" height="434" /></a></p>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">和hello world一样，我们需要一个http的服务器来处理所有进来的请求：</p>

<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> http <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'http'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
querystring <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"querystring"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
exports.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">runServer</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>port<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    port <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> port <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">||</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #cc0000; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">8080</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> server <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> http.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">createServer</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> _postData <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">''</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//on用于添加一个监听函数到一个特定的事件</span>
        req.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">on</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'data'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>chunk<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            _postData <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+=</span> chunk<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span>
        .<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">on</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'end'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            req.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">post</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> querystring.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">parse</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>_postData<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            handlerRequest<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">listen</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>port<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    console.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">log</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'Server running at http://127.0.0.1:'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span> port <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'/'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">这里定义了一个runServer的方法来启动我们的n2Mvc的服务器。有没注意到runServer前面有个exports？这个exports相当于C#中的publish，在用require导入这个模块的时候，runServer可以被访问到。我们写一个脚本来演示下node的模块导入系统：</p>

<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//moduleExample.js</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> myPrivate <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'艳照，藏着'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
exports.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">myPublish</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'冠西的相机'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">this</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">myPublish2</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'this也可以哦'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
console.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">log</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'moduleExample.js loaded <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000099; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">\n</span>'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">执行结果：
<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206089079.jpg"><img style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; height: auto; max-width: 590px; background-position: initial initial; background-repeat: initial initial; padding: 4px; margin: 0px; border: 1px solid #dddddd;" src="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206099211.jpg" border="0" alt="clip_image002[9]" width="376" height="225" /></a></p>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">从结果中我们可以看出exports和this下的变量在外部导入模块后，可以被外部访问到，而var定义的变量只能在脚本内部访问。 从结果我们还可以看出，第二次require导入moduleExample模块的时候，并没有打印“moduleExample.js loaded”，因为require导入模块的时候，会先从require.cache 中检查模块是否已经加载，如果没有加载，才会从硬盘中查找模块脚本并加载。 require支持相对路径查找模块，例如上面代码中require(‘./moduleExample’)中的“./”就代表在当前目录下查找。如果不是相当路径，例如 require(‘http’)，node则会到require.paths中去查找，例如我的系统require.paths为：
<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206105689.jpg"><img style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; height: auto; max-width: 590px; background-position: initial initial; background-repeat: initial initial; padding: 4px; margin: 0px; border: 1px solid #dddddd;" src="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206117457.jpg" border="0" alt="clip_image004[7]" width="304" height="104" /></a></p>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">当require(‘http’)的时候，node的查找路径为：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">1</span>、/home/qleelulu/.node_modules/http
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">2</span>、/home/qleelulu/.node_modules/http.js
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">3</span>、/home/qleelulu/.node_modules/http.node
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">4</span>、/home/qleelulu/.node_modules/http/index.js
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">5</span>、/home/qleelulu/.node_modules/http/index.node
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">6</span>、/home/qleelulu/.node_libraries/http
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">7</span>、/home/qleelulu/.node_libraries/http.js
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">8</span>、参考前面</pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">再看回前面的代码，http.createServer中的回调函数中的request注册了两个事件，前面提到过node的一个特点是事件驱动的，所以这种事件绑定你会到处看到（想想jQuery的事件绑定？例如$(‘a’).click(fn)）。关于node的事件我们在后面再细说。request对象的data事件会在接收客户端post上来的数据时候触发，而end事件则会在最后触发。所以我们在data事件里面处理接收到的数据（例如post过来的form表单数据），在end事件里面通过handlerRequest 函数来统一处理所有的请求并分发给相应的controller action处理。 handlerRequest的代码如下：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> route <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'./route'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> handlerRequest <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//通过route来获取controller和action信息</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> actionInfo <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> route.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">getActionInfo</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">url</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> req.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">method</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//如果route中有匹配的action，则分发给对应的action</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>actionInfo.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">action</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//假设controller都放到当前目录的controllers目录里面，还记得require是怎么搜索module的么？</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> controller <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'./controllers/'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span>actionInfo.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">controller</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">// ./controllers/blog</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>controller<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span>actionInfo.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">action</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> ct <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">new</span> controllerContext<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//动态调用，动态语言就是方便啊</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//通过apply将controller的上下文对象传递给action</span>
            controller<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span>actionInfo.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">action</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">apply</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>ct<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> actionInfo.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">args</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">else</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            handler500<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'Error: controller "'</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span> actionInfo.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">controller</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'" without action "'</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span> actionInfo.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">action</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'"'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">else</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//如果route没有匹配到，则当作静态文件处理</span>
        staticFileServer<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">这里导入来一个route模块，route根据请求的url等信息去获取获取controller和action的信息，如果获取到，则通过动态调用调用action方法，如果没有匹配的action信息，则作为静态文件处理。 下面是route模块的代码：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> parseURL <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'url'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">parse</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//根据http请求的method来分别保存route规则</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> routes <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>get<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> post<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> head<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> put<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">delete</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">/**
* 注册route规则
* 示例：
* route.map({
*     method:'post',
*     url: /\/blog\/post\/(\d+)\/?$/i,
*     controller: 'blog',
*     action: 'showBlogPost'
* })
*/</span>
exports.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">map</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>dict<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>dict <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">&amp;&amp;</span> dict.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">url</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">&amp;&amp;</span> dict.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">controller</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> method <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> dict.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">method</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">?</span> dict.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">method</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">toLowerCase</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'get'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        routes<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span>method<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">push</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            u<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> dict.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">url</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//url匹配正则</span>
            c<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> dict.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">controller</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
            a<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> dict.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">action</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">||</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'index'</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
exports.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">getActionInfo</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>url<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> method<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> r <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>controller<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">null</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> action<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">null</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> args<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">null</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
        method <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> method <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">?</span> method.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">toLowerCase</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'get'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">// url: /blog/index?page=1 ,则pathname为: /blog/index</span>
        pathname <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> parseURL<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>url<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">pathname</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> m_routes <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> routes<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span>method<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">for</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> i <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">in</span> m_routes<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//正则匹配</span>
        r.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">args</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> m_routes<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span>i<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">u</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">exec</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>pathname<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>r.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">args</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            r.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">controller</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> m_routes<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span>i<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">c</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            r.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">action</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> m_routes<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span>i<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">a</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            r.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">args</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">shift</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//第一个值为匹配到的整个url，去掉</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">break</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//如果匹配到route，r大概是 {controller:'blog', action:'index', args:['1']}</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">return</span> r<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">map方法用于注册路由规则，我们新建一个config.js的文件，来配置route规则：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//config.js</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> route <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'./route'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
route.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">map</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    method<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'get'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
    url<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009966; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">/\/blog\/?$/i</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
    controller<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'blog'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
    action<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'index'</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">如果请求的url有匹配的route规则，则会返回controller和action信息。例如上面的route配置，当访问 /blog 这个url的时候，则会调用 ./controllers/blog.js 模块里面的index函数。 当调用action的时候，会传递controllerContext给acation：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;">            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> ct <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">new</span> controllerContext<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//动态调用，动态语言就是方便啊</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//通过apply将controller的上下文对象传递给action</span>
            controller<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span>actionInfo.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">action</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">apply</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>ct<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> actionInfo.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">args</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">这里会通过apply将controllerContext作为action的this，并传递args作为action的参数来调用action。 ontrollerContext封装了一些action会用到的方法：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//controller的上下文对象</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> controllerContext <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">this</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">req</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">this</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">res</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">this</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">handler404</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> handler404<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">this</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">handler500</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> handler500<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
controllerContext.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">prototype</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">render</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>viewName<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> context<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
viewEngine.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">render</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">this</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">req</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">this</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">res</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> viewName<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> context<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
controllerContext.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">prototype</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">renderJson</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>json<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
viewEngine.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">renderJson</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">this</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">req</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">this</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">res</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> json<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">在action中处理完逻辑获取获取到用户需要的数据后，就要呈现给用户。这就需要viewEngine来处理了。ViewEngine的代码如下：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> viewEngine <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    render<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> viewName<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> context<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> filename <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> path.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">join</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>__dirname<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'views'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> viewName<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">try</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> output <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> Shotenjin.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">renderView</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>filename<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> context<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">catch</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>err<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            handler500<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> err<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">return</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
        res.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">writeHead</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #cc0000; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">200</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'Content-Type'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'text/html'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        res.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">end</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>output<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
    renderJson<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> json<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//TODO:</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">这里viewEngine主要负责模板解析。node有很多的可用的模块，模板解析模块也有一大堆，不过这里我们是要“玩”，所以模板解析系统我们这里使用<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://www.kuwata-lab.com/tenjin/jstenjin-users-guide.html" target="_blank">jstenjin</a>来稍作修改：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//shotenjin.js 增加的代码</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//模板缓存，缓存解析后的模板</span>
Shotenjin.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">templateCatch</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//读取模板内容</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//在模板中引用模板使用： {# ../layout.html #}</span>
Shotenjin.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">getTemplateStr</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>filename<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//console.log('get template:' + filename);</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> t <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">''</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//这里使用的是同步读取</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>path.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">existsSync</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>filename<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        t <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> fs.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">readFileSync</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>filename<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'utf-8'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">else</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">throw</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'View: '</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span> filename <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">' not exists'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
    t <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> t.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">replace</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009966; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">/\{#[\s]*([\.\/\w\-]+)[\s]*#\}/ig</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>m<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> g1<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> fp <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> path.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">join</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>filename<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> g1.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">trim</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">return</span> Shotenjin.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">getTemplateStr</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>fp<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">return</span> t<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
Shotenjin.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">renderView</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>viewPath<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> context<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> template <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> Shotenjin.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">templateCatch</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span>viewPath<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">!</span>template<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> template_str <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> Shotenjin.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">getTemplateStr</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>viewPath<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> template <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">new</span> Shotenjin.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">Template</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        template.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">convert</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>template_str<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//添加到缓存中</span>
        Shotenjin.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">templateCatch</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span>viewPath<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> template<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> output <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> template.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">render</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>context<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">return</span> output<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
global.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">Shotenjin</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> Shotenjin<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">增加的代码主要是读取模板的内容，并解析模板中类似 {# ../layout.html #} 的标签，递归读取所有的模板内容，然后调用jstenjin的方法来解析模板。 这里读取文件内容使用的是fs.readFileSync，这是同步阻塞读取文件内容的，和我们平时使用的大多编程语言一样，而fs.readFile的非阻塞异步读。 这里的shotenjin.js原来是给客户端web浏览器javascript解析模板用的，现在拿到node.js来用，完全不用修改就正常工作。Google V8真威武。 现在基本的东西都完成了，但是对于静态文件，例如js、css等我们需要一个静态文件服务器：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> staticFileServer <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> filePath<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">!</span>filePath<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        filePath <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> path.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">join</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>__dirname<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> config.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">staticFileDir</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> url.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">parse</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">url</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">pathname</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
    path.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">exists</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>filePath<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>exists<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">!</span>exists<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            handler404<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">return</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
        fs.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">readFile</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>filePath<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"binary"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>err<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> file<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>err<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
                handler500<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>req<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> res<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> err<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
                <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">return</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> ext <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> path.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">extname</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>filePath<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            ext <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> ext <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">?</span> ext.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">slice</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #cc0000; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">1</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'html'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            res.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">writeHead</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #cc0000; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">200</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'Content-Type'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> contentTypes<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">[</span>ext<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">]</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">||</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'text/html'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            res.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">write</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>file<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"binary"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            res.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">end</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> contentTypes <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
  <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"aiff"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"audio/x-aiff"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
  <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"arj"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"application/x-arj-compressed"</span>
  <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">//省略</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">简单来说就是读取文件内容并写入到response中返回给客户端。 现在该有的都有了，我们写一个action：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">// ./controllers/blog.js</span>
exports.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">index</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">this</span>.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">render</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'blog/index.html'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>msg<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'Hello World'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">blog/index.html的内容为：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="html" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;">{# ../../header.html #}
        &lt;h3 class="title"&gt;n2Mvc Demo&lt;/h3&gt;
        &lt;h1&gt;#{msg}&lt;/h1&gt;
{# ../../footer.html #}</pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">接着，就是写一个脚本来启动我们的n2Mvc了：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">// run.js</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> n2MvcServer <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'./server'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
n2MvcServer.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">runServer</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">ok，运行我们的启动脚本： 在浏览器访问看看：
<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206139541.jpg"><img style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; height: auto; max-width: 590px; background-position: initial initial; background-repeat: initial initial; padding: 4px; margin: 0px; border: 1px solid #dddddd;" src="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206143053.jpg" border="0" alt="clip_image006[7]" width="512" height="349" /></a></p>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">嗯嗯，一切正常。 好，接下来我们再写一个获取新浪微博最新微博的页面。首先，我们在config.js中增加一个route配置：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;">route.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">map</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    method<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'get'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
    url<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009966; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">/\/tweets\/?$/i</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
    controller<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'blog'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
    action<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'tweets'</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">然后开始写我们的cnotroller action：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> http <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'http'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span>
    events <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> require<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"events"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> tsina_client <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> http.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">createClient</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #cc0000; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">80</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"api.t.sina.com.cn"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> tweets_emitter <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">new</span> events.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">EventEmitter</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #006600; font-style: italic; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">// action: tweets</span>
exports.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">tweets</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>blogType<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> _t <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">this</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> listener <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> tweets_emitter.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">once</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"tweets"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>tweets<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        _t.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">render</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'blog/tweets.html'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>tweets<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> tweets<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    get_tweets<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span> get_tweets<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> request <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> tsina_client.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">request</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"GET"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"/statuses/public_timeline.json?source=3243248798"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"host"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"api.t.sina.com.cn"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    request.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">addListener</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"response"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>response<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> body <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">""</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        response.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">addListener</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"data"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>data<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            body <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">+=</span> data<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
        response.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">addListener</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"end"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> tweets <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> JSON.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">parse</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>body<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000066; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">if</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>tweets.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">length</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">&gt;</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #cc0000; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">0</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
                console.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">log</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'get tweets <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #000099; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">\n</span>'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
                tweets_emitter.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">emit</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"tweets"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> tweets<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
            <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span>
        <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    request.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">end</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">这里使用http.createClient来发送请求获取新浪微博的最新微博，然后注册相应事件的监听。这里详细说下node的事件系统：EventEmitter。 EventEmitter可以通过require(‘events’). EventEmitter来访问，创建一个 EventEmitter的实例emitter后，就可以通过这个emitter来注册、删除、发出事件了。 例如上面的代码中，先创建来一个EventEmitter的实例：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;"><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> tweets_emitter <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">new</span> events.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">EventEmitter</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">然后用once注册一个一次性的事件监听：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;">    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">var</span> listener <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">=</span> tweets_emitter.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">once</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"tweets"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #003366; font-weight: bold; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">function</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span>tweets<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>
        _t.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">render</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">'blog/tweets_data.html'</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">{</span>tweets<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">:</span> tweets<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span>
    <span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">}</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">once注册的事件在事件被触发一次后，就会自动移除。 最后，通过emit来发出事件：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="javascript" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;">tweets_emitter.<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #660066; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">emit</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">(</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #3366cc; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">"tweets"</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">,</span> tweets<span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #009900; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">)</span><span style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; color: #339933; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">;</span></pre>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">这样，整个事件的流程都清晰了。 下面写一下显示tweets的模板：</p>

<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">
<div class="wp_syntax" style="margin-top: 0px; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; color: #110000; overflow-x: auto; overflow-y: hidden; width: 600px; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: 1px solid silver;">
<div class="code" style="padding-top: 2px; padding-right: 4px; padding-bottom: 2px; padding-left: 4px; vertical-align: top; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; margin: 0px; border: initial none initial;">
<pre class="html" style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 12px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #efefef; text-decoration: none; overflow-x: visible; overflow-y: visible; font: normal normal normal 13px/25px Arial, Verdana, sans-serif; line-height: 1.333; color: #555555; width: auto; float: none; clear: none; white-space: pre; font-family: monospace; background-position: initial initial; background-repeat: initial initial; padding: 25px; margin: 0px; border: 1px solid #dfdfdf;">&lt;ul&gt;
  &lt;?js for(var i in tweets){ ?&gt;
  &lt;?js var tweet = tweets[i], user = tweets[i].user; ?&gt;
    &lt;li&gt;
        &lt;div class="usericon"&gt;
                &lt;a class="user_head" href="###"&gt;
                    &lt;img src="#{user.profile_image_url}" /&gt;
                &lt;/a&gt;
        &lt;/div&gt;
        &lt;div class="mainContent"&gt;
            &lt;div class="userName"&gt;
                &lt;a href="###"&gt;
                    #{user.screen_name}
                &lt;/a&gt;
            &lt;/div&gt;
            &lt;div class="msg"&gt;
                &lt;div class="tweet"&gt;
                    &lt;div class="tweet_text"&gt;
                        #{tweet.text}
                    &lt;/div&gt;
                    &lt;?js if(tweet.thumbnail_pic){ ?&gt;
                    &lt;div&gt;
                        &lt;a target="_blank" href="javascript:void(0);" class="thumbnail_pic" &gt;
                            &lt;img class="pic" src="#{tweet.thumbnail_pic}" /&gt;
                        &lt;/a&gt;
                    &lt;/div&gt;
                    &lt;?js } ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;br class="clear" /&gt;
    &lt;/li&gt;
  &lt;?js } ?&gt;
&lt;/ul&gt;</pre>
</div>
</div>
</div>
<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">万事大吉，运行并访问：</div>
<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;"><a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206157886.jpg"><img style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; height: auto; max-width: 590px; background-position: initial initial; background-repeat: initial initial; padding: 4px; margin: 0px; border: 1px solid #dddddd;" src="http://images.cnblogs.com/cnblogs_com/QLeelulu/201101/201101280206178924.jpg" border="0" alt="clip_image008[6]" width="380" height="397" /></a></div>
<h3 style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 13px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 21px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: #dfdfdf; text-decoration: none; font-style: normal; font-weight: bold; font-family: Arial, Verdana, sans-serif; color: #444444; border-left-width: 5px; line-height: 21px; background-position: initial initial; background-repeat: initial initial;">附一个简单的和Django的对比测试</h3>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;"><img style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: #f9f9f9; text-decoration: none; height: auto; max-width: 590px; background-position: initial initial; background-repeat: initial initial; padding: 4px; margin: 0px; border: 1px solid #dddddd;" src="http://pic002.cnblogs.com/images/2011/26621/2011012811490365.png" alt="" /></p>

<h3 style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 13px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 21px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: #dfdfdf; text-decoration: none; font-style: normal; font-weight: bold; font-family: Arial, Verdana, sans-serif; color: #444444; border-left-width: 5px; line-height: 21px; background-position: initial initial; background-repeat: initial initial;">后记</h3>
<p style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; border: initial none initial;">本文写的mvc框架完全是为了尝试node.js，其实node已经有很多的 <a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://github.com/ry/node/wiki/modules" target="_blank">Modules</a>可以用，也有比较成熟的web框架<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://github.com/visionmedia/express/tree/master" target="_blank">Express</a>。如果你要实现一个模块之前，可以先到node的modules页面查找下有没有你需要的模块先。 本文示例源代码：<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://files.cnblogs.com/QLeelulu/learnNode.zip">learnNode.zip</a></p>

<h3 style="margin-top: 0px; margin-right: 0px; margin-bottom: 25px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 13px; vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 21px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: solid; border-width: initial; border-color: #dfdfdf; text-decoration: none; font-style: normal; font-weight: bold; font-family: Arial, Verdana, sans-serif; color: #444444; border-left-width: 5px; line-height: 21px; background-position: initial initial; background-repeat: initial initial;">一些资源：</h3>
</div>
<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">node.js的文档：<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://nodejs.org/api.html">http://nodejs.org/api.html</a></div>
<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">How To Node:  <a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://howtonode.org/">http://howtonode.org</a></div>
<div style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; text-decoration: none; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px; border: initial none initial;">learning-serverside-javascript-with-node-js: <a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://net.tutsplus.com/tutorials/javascript-ajax/learning-serverside-javascript-with-node-js/">http://net.tutsplus.com/tutorials/javascript-ajax/learning-serverside-javascript-with-node-js/</a> (中文翻译版：<a style="vertical-align: baseline; outline-style: none; outline-width: initial; outline-color: initial; font-size: 16px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; border-top-style: none; border-right-style: none; border-bottom-style: dotted; border-left-style: none; border-width: initial; border-color: initial; text-decoration: none; cursor: pointer; color: #999999; border-bottom-width: 1px; border-bottom-color: #666666; background-position: initial initial; background-repeat: initial initial; padding: 0px; margin: 0px;" href="http://www.osseye.com/?p=456">http://www.osseye.com/?p=456</a> )</div>
</span>